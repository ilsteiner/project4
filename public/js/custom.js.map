{"version":3,"sources":["custom.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"custom.js","sourcesContent":["function togglePlurality(oldText){\r\n\tif(oldText.slice(-1) == 's') {\r\n\t\treturn oldText.slice(0, -1);\r\n\t}\r\n\telse {\r\n\t\treturn oldText + 's';\r\n\t}\r\n}\r\n\r\njQuery(document).ready(function () {\r\n\t// Initialize tooltips\r\n\tjQuery('[data-toggle=\"tooltip\"]').tooltip();\r\n\r\n\t// Initialize switches\r\n\tjQuery(\"[name='bidirectional']\").bootstrapSwitch();\r\n\r\n\t// Register on-click for bidirectional switch\r\n\tjQuery(\"[name='bidirectional']\").on('switchChange.bootstrapSwitch', function() {\r\n\t\t// Show the other part of the form\r\n\t\tjQuery('#bidirectional').slideToggle();\r\n\r\n\t\t// Change button text\r\n\t\tjQuery('#rel-btn').text(togglePlurality(jQuery('#rel-btn').text()));\r\n\t});\r\n\r\n\t/*\r\n\t\tUpdate text on selection change and disable matching other select option\r\n\t */\r\n\r\n\t//First character field \r\n\tjQuery(\"#rel_1_character\").on('focus', function () {\r\n\t\tprevValue = jQuery(this).val();\r\n\t}).change(\r\n\tfunction() {\r\n\t\t//Reenable the previous value\r\n\t\tjQuery(\"#rel_1_related_to option[value='\" + prevValue + \"'\").prop('disabled',false);\r\n\r\n\t\t//Disable the identical option in the other select\r\n\t\tjQuery(\"#rel_1_related_to option[value='\" + jQuery(this).val() + \"'\").prop('disabled',true);\r\n\r\n\t\t//Set the value of the bidirectional input\r\n\t\tjQuery(\"#rel_2_related_to\").val(jQuery(this).val());\r\n\r\n\t\t// Set the text\r\n\t\tjQuery(\".character-text\").text(jQuery(\"#rel_1_character option:selected\").text());\r\n\t});\r\n\r\n\t//First relationship name\r\n\tjQuery(\"#rel_1_name\").on('input', function() {\r\n\t\tjQuery(\".rel-1-text\").text(jQuery(this).val());\r\n\t});\r\n\r\n\t//Second character field\r\n\tjQuery(\"#rel_1_related_to\").on('focus', function () {\r\n\t\tprevValue = jQuery(this).val();\r\n\t}).change(\r\n\tfunction() {\r\n\t\t//Reenable the previous value\r\n\t\tjQuery(\"#rel_1_character option[value='\" + prevValue + \"'\").prop('disabled',false);\r\n\r\n\t\t//Disable the identical option in the other select\r\n\t\tjQuery(\"#rel_1_character option[value='\" + jQuery(this).val() + \"'\").prop('disabled',true);\r\n\r\n\t\t//Set the value of the bidirectional input\r\n\t\tjQuery(\"#rel_2_character\").val(jQuery(this).val());\r\n\r\n\t\t// Set the text\r\n\t\tjQuery(\".related-to-text\").text(jQuery(\"#rel_1_related_to option:selected\").text());\r\n\t});\r\n\r\n\t//Second relationship name\r\n\tjQuery(\"#rel_2_name\").on('input', function() {\r\n\t\tjQuery(\".rel-2-text\").text(jQuery(this).val());\r\n\t});\r\n\t\r\n\r\n\t//Show the bidirectional relationship if we're coming back from validation\r\n\tif($('.bootstrap-switch-container input.form-control').hasClass('show')) {\r\n\t\t$('[name=\"bidirectional\"]').bootstrapSwitch('state',true);\r\n\t}\r\n\r\n\t//Show the login or registration modals if we're coming back with an error\r\n\tvar errors = $(\".form-group.has-error\");\r\n\tif(errors.length){\r\n\t\terrors.parents(\"div.modal\").modal(\"show\");\r\n\t}\r\n});\r\n"]}